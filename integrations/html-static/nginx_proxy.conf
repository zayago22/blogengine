# =============================================
# BlogEngine × Nginx (proxy inverso)
# =============================================
#
# Para clientes con VPS o servidor dedicado.
# SEO MÁXIMO ⭐⭐⭐⭐⭐
#
# Agregar este bloque dentro del server { } del dominio del cliente.
# Reemplazar MI-SLUG con el slug real.
# =============================================

# Dentro de server { } del dominio del cliente:

location /blog {
    # Proxy hacia BlogEngine
    proxy_pass https://blogengine.app/b/MI-SLUG;
    
    # Headers necesarios
    proxy_set_header Host blogengine.app;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
    proxy_set_header X-Original-Host $host;
    
    # No modificar URLs en las respuestas
    proxy_redirect off;
    
    # Cache para velocidad
    proxy_cache_valid 200 1h;
    proxy_cache_valid 404 1m;
    
    # Timeouts
    proxy_connect_timeout 10s;
    proxy_read_timeout 30s;
}

# Sitemap del blog (agregar al sitemap principal del sitio)
location = /blog/sitemap.xml {
    proxy_pass https://blogengine.app/b/MI-SLUG/sitemap.xml;
    proxy_set_header Host blogengine.app;
}

# RSS feed
location = /blog/rss.xml {
    proxy_pass https://blogengine.app/b/MI-SLUG/rss.xml;
    proxy_set_header Host blogengine.app;
}
